root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
coordinate1 <- vector()
point1 <- vector()
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
point[i] <- newXMLNode("Point", parent = placemark[i])
placemark[i] <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", paste(coordinate[i]), parent = point[i])
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
coordinate1 <- vector()
point1 <- vector()
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
point[i] <- newXMLNode("Point", parent = placemark[i])
placemark[i] <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", paste(coordinate1[i]), parent = point[i])
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
coordinate1
longitude
length(longitude)
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
coordinate1 <- vector()
point1 <- vector()
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
point1[i] <- newXMLNode("Point", parent = placemark[i])
placemark[i] <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", paste(coordinate1[i]), parent = point1[i])
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
coordinate1 <- vector()
point1 <- vector()
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
point1[i] <- newXMLNode("Point", parent = placemark[i])
placemark[i] <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1[i], parent = point1[i])
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
newXMLNode("Point", parent = placemark[i])
newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1[i], parent = point[i])
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
length(longitude)
coordinate1
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
newXMLNode("Point", parent = placemark[i])
newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1[i], parent = point[i])
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
newXMLNode("Point", parent = placemark)
newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1[i], parent = point)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = placemark)
y <- newXMLNode("Placemark", parent = docmt)
z <- newXMLNode("coordinates", coordinate1[i], parent = point)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = placemark)
y <- newXMLNode("Placemark", parent = docmt)
z <- newXMLNode("coordinates", coordinate1[i], parent = x)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = placemark)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1[i], parent = x)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = placemark)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1[i], parent = x)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = y)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1[i], parent = x)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
View(New_NCEDC_df)
datetime <- as.character(quakes$DateTime)
datetimefix <- gsub("/", "-", datetime)
quakes$DateTime
quakes
datetime <- as.character(New_NCEDC_df$DateTime)
datetimefix <- gsub("/", "-", datetime)
datetimefix
datetimefix2 <- gsub(" ", "T", datetimefix)
datetimefix3 <- gsub("$", "Z", datetimefix2)
datetime <- as.character(New_NCEDC_df$DateTime)
datetimefix <- gsub("/", "-", datetime)
datetimefix <- gsub(" ", "T", datetimefix)
datetimefix <- gsub("$", "Z", datetimefix)
source('~/.active-rstudio-document', echo=TRUE)
datetime <- as.character(New_NCEDC_df$DateTime)
datetimefix <- gsub("/", "-", datetime)
datetimefix <- gsub(" ", "T", datetimefix)
datetimefix <- gsub("$", "Z", datetimefix)
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
x <- newXMLNode("Point", parent = y)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", paste(longitude[i],",",latitude[i],",0 "), parent = x)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
timestamp_node <- newXMLNode("TimeStamp", parent = placemark)
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = y)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1[i], parent = x)
newXMLNode("when", datetimefix[i], parent = x)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
timestamp_node <- newXMLNode("TimeStamp", parent = placemark)
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = y)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1[i], parent = x)
newXMLNode("when", datetimefix[i], parent = x)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_8.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = y)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1[i], parent = x)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1[i] <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = y)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1[i], parent = x)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1 <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = y)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1, parent = x)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1 <- paste(longitude[i],",",latitude[i],",0 ")
y <- newXMLNode("Placemark", parent = docmt)
x <- newXMLNode("Point", parent = y)
newXMLNode("coordinates", coordinate1, parent = x)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1 <- paste(longitude[i],",",latitude[i],",0 ")
y <- newXMLNode("Placemark", parent = docmt)
x <- newXMLNode("Point", parent = y)
newXMLNode("coordinates", coordinate1, parent = x)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
datetime <- as.character(New_NCEDC_df$DateTime)
datetimefix <- gsub("/", "-", datetime)
datetimefix <- gsub(" ", "T", datetimefix)
datetimefix <- gsub("$", "Z", datetimefix)
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
timestamp_node <- newXMLNode("TimeStamp", parent = placemark)
for (i in 1:length(longitude)){
coordinate1 <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = y)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1, parent = x)
newXMLNode("when", datetimefix[i], parent = y)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_8.kml")
datetime <- as.character(New_NCEDC_df$DateTime)
datetimefix <- gsub("/", "-", datetime)
datetimefix <- gsub(" ", "T", datetimefix)
datetimefix <- gsub("$", "Z", datetimefix)
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
timestamp_node <- newXMLNode("TimeStamp", parent = placemark)
for (i in 1:length(longitude)){
coordinate1 <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = y)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1, parent = x)
z <- newXMLNode("TimeStamp", parent = y)
newXMLNode("when", datetimefix[i], parent = z)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_8.kml")
datetime <- as.character(New_NCEDC_df$DateTime)
datetimefix <- gsub("/", "-", datetime)
datetimefix <- gsub(" ", "T", datetimefix)
datetimefix <- gsub("$", "Z", datetimefix)
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
placemark <- newXMLNode("Placemark", parent = docmt)
point <- newXMLNode("Point", parent = placemark)
## timestamp_node <- newXMLNode("TimeStamp", parent = placemark)
for (i in 1:length(longitude)){
coordinate1 <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = y)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1, parent = x)
z <- newXMLNode("TimeStamp", parent = y)
newXMLNode("when", datetimefix[i], parent = z)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_8.kml")
datetime <- as.character(New_NCEDC_df$DateTime)
datetimefix <- gsub("/", "-", datetime)
datetimefix <- gsub(" ", "T", datetimefix)
datetimefix <- gsub("$", "Z", datetimefix)
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
## placemark <- newXMLNode("Placemark", parent = docmt)
## point <- newXMLNode("Point", parent = placemark)
## timestamp_node <- newXMLNode("TimeStamp", parent = placemark)
for (i in 1:length(longitude)){
coordinate1 <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = y)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1, parent = x)
z <- newXMLNode("TimeStamp", parent = y)
newXMLNode("when", datetimefix[i], parent = z)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_8.kml")
datetime <- as.character(New_NCEDC_df$DateTime)
datetimefix <- gsub("/", "-", datetime)
datetimefix <- gsub(" ", "T", datetimefix)
datetimefix <- gsub("$", "Z", datetimefix)
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
# placemark <- newXMLNode("Placemark", parent = docmt)
# point <- newXMLNode("Point", parent = placemark)
# timestamp_node <- newXMLNode("TimeStamp", parent = placemark)
for (i in 1:length(longitude)){
coordinate1 <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = y)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1, parent = x)
z <- newXMLNode("TimeStamp", parent = y)
newXMLNode("when", datetimefix[i], parent = z)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_8.kml")
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
# placemark <- newXMLNode("Placemark", parent = docmt)
# point <- newXMLNode("Point", parent = placemark)
for (i in 1:length(longitude)){
coordinate1 <- paste(longitude[i],",",latitude[i],",0 ")
y <- newXMLNode("Placemark", parent = docmt)
x <- newXMLNode("Point", parent = y)
newXMLNode("coordinates", coordinate1, parent = x)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10_7.kml")
datetime <- as.character(New_NCEDC_df$DateTime)
datetimefix <- gsub("/", "-", datetime)
datetimefix <- gsub(" ", "T", datetimefix)
doc <- newXMLDoc()
root1 <- newXMLNode("kml",namespaceDefinitions = "http://www.opengis.net/kml/2.2", doc = doc)
docmt <- newXMLNode("Document", parent = root1)
name <- newXMLNode("name", "Earthquakes", parent = docmt)
descrpt <- newXMLNode("description", "4+ Earthquakes, 1966-present", parent = docmt)
for (i in 1:length(longitude)) {
coordinate1 <- paste(longitude[i],",",latitude[i],",0 ")
x <- newXMLNode("Point", parent = y)
y <- newXMLNode("Placemark", parent = docmt)
newXMLNode("coordinates", coordinate1, parent = x)
z <- newXMLNode("TimeStamp", parent = y)
newXMLNode("when", datetimefix[i], parent = z)
}
saveXML(doc, file = "/Users/yishanhan/Desktop/homework10.kml")
?getNodeSet
??GetNodeSet
library(XML)
gbp_nodes = getNodeSet(erRoot, "//x:Cube[@currency = 'GBP']", namespaces = "x")
er = xmlTreeParse("http://www.ecb.europa.eu/stats/eurofxref/eurofxref-hist-90d.xml")
erRoot = xmlRoot(er)
xmlSize(erRoot)
names(erRoot)
erRoot[['Cube']][1]
gbp_nodes = getNodeSet(erRoot, "//x:Cube[@currency = 'GBP']", namespaces = "x")
gbp_nodes
type(gbp_nodes)
str(gbp_nodes)
gbp1 = sapply(gbp_nodes, xmlGetAttr, "rate")
head(gbp1)
length(gbp1)
class(gbp1)
gbp1
xpathSApply()
er = xmlTreeParse("http://www.ecb.europa.eu/stats/eurofxref/eurofxref-hist-90d.xml", useInternalNodes = TRUE)
erRoot = xmlRoot(er)
gbp2 = xpathSApply(erRoot, '//x:Cube[@currency="GBP"]',
xmlGetAttr, "rate", namespaces = "x")
gbp2
days = xpathSApply(erRoot, "//x:Cube[@time]",
xmlGetAttr, "time", namespaces = "x")
days
head(days)
dayze = as.Date(days)
length(dayze) == length(gbp1)
gbp = as.numeric(gbp1)
df <- data.frame(dayze,gbp)
# Let's plot the GBP exchange rate vs time.
df %>% ggplot(aes(x=dayze,y=gbp)) + geom_line() + labs(title="Exchange Rates Over Time",x="Date",y="Exchange Rate (against Euro)")
library(DataComputing)
View(df)
View(df)
df <- data.frame(dayze,gbp)
# Let's plot the GBP exchange rate vs time.
df %>% ggplot(aes(x=dayze,y=gbp)) + geom_line() + labs(title="Exchange Rates Over Time",x="Date",y="Exchange Rate (against Euro)")
library(DataComputing)
library(XML)
getwd()
setwd("/Users/yishanhan/Documents/Spring 2016/Stat 133/Homework")
NCEDCdata = read.csv("NCEDC3%2Bquakes.csv")
NCEDCdata = read.csv("NCEDC3%2Bquakes.csv")
NCEDCdata = read.csv("NCEDC3%2Bquakes.csv")
New_NCEDC_df <- NCEDCdata %>%
filter(Magnitude >= 4)
longitude <- as.vector(New_NCEDC_df$Longitude)
latitude <- as.vector(New_NCEDC_df$Latitude)
datetime <- as.character(New_NCEDC_df$DateTime)
datetimefix <- gsub("/", "-", datetime)
datetimefix <- gsub(" ", "T", datetimefix)
jpg <- readJPG("IMG_1895.jpg")
library("jpg")
jpg <- read.jpeg("IMG_1895.jpg")
library(rimag)
library(rimage)
?jpeg
![](IMG_1895.jpg)
